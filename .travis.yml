language: node_js
node_js:
  - node
services:
  - postgresql
addons:
  postgresql: '9.6'
dist: trusty
sudo: false
notifications:
  email:
    on_success: change
    on_failure: always
install:
  - npm ci
before_script:
  - psql -c 'create database "deployment-exercise-test";' -U postgres
before_deploy: # omit node_modules, since we set skip_cleanup below
  - rm -rf node_modules
deploy: # see README for details on these keys
  # prevents travis from deleting the build
  skip_cleanup: true
  provider: heroku
  # app should be your heroku app name; see README
  app: first-nodejs-95-app
  # the secure key indicates an encrypted value; see README
  api_key:
    secure: rGdOHie97chgx23nTSyfxLfr1vN6nYueGB7qlU/txCzD1L4/ti2Zru8yGybkl2zZDILCpC2mBVpgbpZ048YXSQEVv32nu0+8XG8/+gX7TcSVhYhdd8cR2w/NklTB3FTar9CBrEMgVRnUPqpvzko2/NGq8NVrHedbApWJAXCowViaJITGKksLlClWi64vlpZIUZZRszNOUW1Pe4lYK2EkcCKxCNyT1VmW9GZ6C6FjgCXoxLDlUUzU2mhrUqHKZECY0TyRnyOLjjXfIZ5TqGK/GelpRM0ROpP0rIloR3vSZcZeYn5YmuWrRGDxpKEKMLNU/ams4RgCQv4BI/kH6UVAOJInMOMD1S1AUQihEU7d720LCNi1kR6j13EVfEW4HWd9oDFqKSylcw6sIrKlyu88SIMcAaYXHFtYL+9Bz9vwqQoL48cQxqYvyJjHBplxp1LmIYlAQnV34QapOsY6xYOAKK7WnCeQincjj5Bg0M8eLAciMXINxnMT6Jf0sB5WL/Raw5U7O/AM3edqjLqbyYXto8UHJ6t76+BPAZKeUmeIdSHLueMO7RXy4LhCpM++5PqyofpBBkEwewYanZGDhSZ47nQO0zpHyKqXSP2cYW7WU8UjuCIevUbAwF1LHFvSGpqCTwlFHdnafWtHCCMhUlp4JAIcxVoSreoGvnFxqeiz9mU=
